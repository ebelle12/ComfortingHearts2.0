<!DOCTYPE html>
<html lang="en">

<!--<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles-contact.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet" />
  <title>Contact Page</title>
</head> -->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Comforting Hearts 2.0</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <nav class="navbar">
    <a class="navbar_logo" href="#">
      <img src="images/logo_new.jpg" alt="Logo" width="55" height="60">
    </a>
    <div class="navbar_toggle" id="mobile-menu">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </div>
    <div class="navbar_menu">
      <a href="index.html" class="navbar_link">Home</a>
      <a href="/about.html" class="navbar_link">About</a>
      <a href="/newsletter.html" class="navbar_link">Newsletter</a>
      <a href="/testimonies.html" class="navbar_link">Testimonies</a>
      <a href="/contact.html" class="navbar_link">Contact</a>
    </div>
  </nav>

  <div class="container" id="container">
    <div class="contact-us">
      <form>
        <h1>Contact</h1>
        <input name="first_name" type="text" required   placeholder="First:" />
        <input name="last_name" type="text"  required  placeholder="Last:" />
        <input name="phone" type="tel"   required placeholder="Phone:" />
        <input name="email_add" type="email"  required  placeholder="Email:" />
        <button class="button is-primary" type="submit">Submit</button>
      </form>
      <span>or message us on social media</span>
    </div>
    <div class="icons">
      <a href="https://www.facebook.com/profile.php?id=61567434045822" class="icon"><i class="fa-brands fa-facebook"></i></a>
      <a href="#" class="icon"><i class="fa-brands fa-instagram"></i></a>
      <a href="#" class="icon"><i class="fa-brands fa-tiktok"></i></a>
      <a href="#" class="icon"><i class="fa-brands fa-linkedin"></i></a>

    </div>

  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  
const { createClient } = supabase
 supabase = createClient('https://ialjfshfxcfvdjvtqzfm.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhbGpmc2hmeGNmdmRqdnRxemZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDEzMDEyMjEsImV4cCI6MjA1Njg3NzIyMX0.oyu7NbF4Yyiq_1ZBGuRyluYo5Rd8BvA2IlOhI28BPlw')
const form = document.querySelector('.contact-us > form' ) 
form.addEventListener('submit', async (event) => {
  event.preventDefault()
  const formInputs = form.querySelectorAll('input')
  let submission = {}
  formInputs.forEach(element => {
    const {value, name} = element
    if(value) {
      submission[name] = value
    }
  })
  
  const {error, data} = await supabase.from('contact_info').insert(submission)
  if(error) {
    
    alert('Please fill out all fields.  For the phone number, do not use dashes.  (Example:  2125551212)')
    
  } else {
    alert('Thank you for entering your information!')
  }
  formInputs.forEach(element => element.value = '')
})

</script>
<script src="app.js"></script>
</html>